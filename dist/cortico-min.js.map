{"version":3,"sources":["webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/helpers/createClass.js","webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://oscar-enhancement-suite/./node_modules/@babel/runtime/regenerator/index.js","webpack://oscar-enhancement-suite/./cortico.js","webpack://oscar-enhancement-suite/./modules/Appointments/AppointmentMenu.js","webpack://oscar-enhancement-suite/./modules/Appointments/Appointments.js","webpack://oscar-enhancement-suite/./modules/Icons/Ellipsis.js","webpack://oscar-enhancement-suite/./modules/Masterfile/Masterfile.js","webpack://oscar-enhancement-suite/./modules/Modal/Modal.js","webpack://oscar-enhancement-suite/./modules/Oscar/Oscar.js","webpack://oscar-enhancement-suite/./modules/PubSub/PubSub.js","webpack://oscar-enhancement-suite/./modules/Utils/Utils.js","webpack://oscar-enhancement-suite/./modules/Appointments/AppointmentMenu.css","webpack://oscar-enhancement-suite/./modules/Icons/Ellipsis.css","webpack://oscar-enhancement-suite/./modules/Modal/Modal.css","webpack://oscar-enhancement-suite/./node_modules/css-loader/dist/runtime/api.js","webpack://oscar-enhancement-suite/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://oscar-enhancement-suite/./node_modules/dayjs/dayjs.min.js","webpack://oscar-enhancement-suite/./node_modules/element-closest-polyfill/index.js","webpack://oscar-enhancement-suite/./node_modules/regenerator-runtime/runtime.js","webpack://oscar-enhancement-suite/./modules/Appointments/AppointmentMenu.css?6f9a","webpack://oscar-enhancement-suite/./modules/Icons/Ellipsis.css?156a","webpack://oscar-enhancement-suite/./modules/Modal/Modal.css?1eb7","webpack://oscar-enhancement-suite/./node_modules/style-loader/dist/runtime/getTarget.js","webpack://oscar-enhancement-suite/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://oscar-enhancement-suite/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://oscar-enhancement-suite/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://oscar-enhancement-suite/webpack/bootstrap","webpack://oscar-enhancement-suite/webpack/runtime/compat get default export","webpack://oscar-enhancement-suite/webpack/runtime/define property getters","webpack://oscar-enhancement-suite/webpack/runtime/hasOwnProperty shorthand","webpack://oscar-enhancement-suite/webpack/runtime/make namespace object","webpack://oscar-enhancement-suite/webpack/startup"],"names":["version","pubsub","oscar","Oscar","window","location","hostname","init_cortico","anchor","document","createElement","id","body","appendChild","route","oscar_scripts","Array","from","getElementsByTagName","filter","s","src","indexOf","length","console","log","init_appointment_page","init_recall_button","resources_field","querySelector","cortico_button","getElementById","addEventListener","open_video_appointment_page","update_video_button_visibility","init_schedule","dragAndDrop","addCorticoLogo","addMenu","isJuno","plusSignFromCache","isMarkham","href","includes","setupPrescriptionButtons","currentPharmacyCode","localStorage","getItem","toLowerCase","additionalNotes","value","previewFrame","addNotes","init_styles","isOscarGoHost","isKaiOscarHost","containsKaiBar","containsOscarGoOceanScript","updateDoctorHeadings","setTimeout","stop","last_interaction","Date","e","reloadHandler","setInterval","now","valueOf","clearInterval","checkAllEligibilityRunning","setupPreferredPharmaciesRunning","reload","style","visibility","preventDefault","clinicname","prompt","substr","replace","appt_no","getQueryStringValue","alert","open","cortico_media","parent","parentNode","selectHtml","forEach","innerHTML","resourceCheckbox","setAttribute","resourceLabel","textContent","resourceTextInput","target","checked","last_button","addGlobalStyle","warn","key","decodeURIComponent","search","RegExp","encodeURIComponent","css","head","type","menu","listitem","styleSheetFactory","namespace","styleSheet","createSideBar","corticoSidebar","sidebar","classList","add","sidebarClose","cursor","remove","newUiOption","getNewUIOption","getCorticoUrlOption","getRecallStatusOption","getEligStatus","getEligButton","getEligFailed","getBatchPharmaciesStatus","getBatchPharmaciesButton","styles","innerText","showDiagnosticResults","html_string","diagnosticResults","display","container","containerClose","prepend","navigation","color","toggle","width","padding","boxSizing","inputContainer","alignItems","justifyContent","input","fontSize","margin","backgroundColor","border","label","marginTop","marginBottom","textAlign","button","setItem","subscribe","topic","data","progress","current","total","complete","header","name","info","split","list","getFailedList","failed","JSON","parse","listItems","map","f","demographic_no","verticalAlign","addNewUI","removeNewUI","marginLeft","prefix","suffix","corticoUrl","checkAllEligibility","setupPreferredPharmacies","appointmentRowDragStart","ev","matches","dragSelectedTarget","dataTransfer","setDragImage","isValidDragItem","isSameDay","startDate","endDate","isSame","readyState","appointmentRows","querySelectorAll","node","dragover_handler","dropEffect","isAppt","contains","isEmpty","dragTarget","dragleave_handler","handleColors","drop_handler","newStartTime","parentElement","firstElementChild","trim","apptLink","getAppointmentLink","apptLinkText","attributes","onclick","apptUrl","extractApptUrl","origin","provider","appointmentEditRequest","result","text","temp","formData","FormData","originalStartTime","get","apptDate","duration","newEndTime","format","_newStartTime","_newEndTime","apptDoctor","targetDoctor","getProviderNoFromTd","isSameDoctor","doctor","set","updateAppointment","insertBefore","updateAppointmentAnchorLinks","start_time","provider_no","cutAppointment","handleAddData","URLSearchParams","addAppointment","emptyRows","addToFailures","metadata","_cache","getFailureCache","cache","push","stringify","clearFailureCache","removeItem","addToCache","_verified","verified","_today","date","filterAppointments","appointments","appt","hasOwnProperty","cachedDate","isDateExpired","past","days","diff","Math","abs","nodes","appointmentInfo","getAppointmentInfo","error","i","Object","assign","publish","checkEligiblity","lowerCaseText","plusSignAppointments","Promise","resolve","reject","getPharmacyResults","searchTerm","uriSafeSearch","newLocal","url","fetch","method","headers","Accept","getCurrentPharmacy","demographicNo","setPreferredPharmacy","pharmacyObj","append","address","city","province","postalCode","phone1","phone2","fax","email","serviceLocationIdentifier","notes","apptTdElement","anchors","nodeValue","getDemographicNo","searchParams","apptNodes","title","v","a","findIndex","t","match","substring","delete","_data","appointmentRequest","tdElement","dsButton","closest","dataset","dsInput","oldOptions","newOptions","linkAttribute","linkValue","oldStartTime","oldProviderNo","newProviderNo","addVerifiedMark","mark","stringArrayToObj","stringArray","obj","getPharmacyCodeFromReasonOrNotes","titleContents","apptFields","textContentList","notesValue","notesValuesList","pharmacyCode","reason","reasonValuesList","providerSchedule","element","className","previousElementSibling","apptTitle","sendPatientPrescriptionNotification","clinicName","getDemographicFromLocation","setupFaxButton","prescriptionFrame","json","getPharmacyDetails","setupPreferredPharmacy","code","corticoPharmacy","corticoPharmacyText","faxNumber","join","currPharmacyResults","currPharmacyText","preferredPharmacy","currentlyUsingPharmacy","storePharmaciesCache","results","pharmacyUpdated","isRxPage","pharmacy","find","item","setPharmacyResults","setPharmacyText","msg","storePharmaciesFailureCache","demographics","isArray","message","failures","getDiagnosticFromCortico","routeParams","_pharmaciesCache","pharmaciesCache","cachedDemographics","init_diagnostic_viewer_button","update_diagnostic_button_visibility","open_diagnostic_viewer","diagnostic_response","String","diagnostic_text","notesField","corticoDiagnosticViewBtn","update_recall_button_visibility","send_patient_recall_email","getPatientEmail","patientEmail","apptTime","apptPatient","apptSchedule","cleanedSchedule","cleanedPatient","toUpperCase","statusValue","statusOption","options","selectedIndex","recallStatus","corticoRecallButton","getDemographicPageResponse","re","emails","modal","Modal","addAppointmentMenu","appointmentMenu","apptTd","menuIcon","renderPatientInfo","once","menuItems","appointmentMenuItems","items","listItem","onClick","getPatientContactInfo","masterFile","Masterfile","fetchPage","page","getAppointments","_demographic_no","Ellipsis","numDots","wrapper","dot","apptTD","getMasterFileUrl","masterAnchor","clickContent","Error","modalContainer","isEqualNode","hide","html","_this","ifv","scrollY","view","position","top","isJunoHost","containsJunoLink","outerHTML","pubSubInit","myObject","topics","subUid","args","subscribers","len","func","token","toString","unsubscribe","m","j","splice","debounce","wait","immediate","timeout","context","arguments","later","apply","callNow","clearTimeout","waitForElm","selector","observer","MutationObserver","mutations","disconnect","observe","childList","subtree","getOrigin","getProvider","pathname"],"mappings":"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qB,aAAa,YAAY,2BAA2B,WAAW,gDAAgD,sCAAsC,sCAAsC,qBAAqB,qBAAqB,WAAW,uDAAuD,mBAAmB,0BAA0B,wBAAwB,sBAAsB,WAAW,4BAA4B,uIAAuI,2CAA2C,eAAe,2BAA2B,+BAA+B,qBAAqB,2BAA2B,IAAI,kZAAkZ,kCAAkC,kCAAkC,GAAG,wBAAwB,sDAAsD,wBAAwB,kFAAkF,cAAc,6GAA6G,0BAA0B,wBAAwB,sBAAsB,kBAAkB,wBAAwB,qBAAqB,+BAA+B,qBAAqB,oBAAoB,yBAAyB,qBAAqB,gCAAgC,qBAAqB,8CAA8C,0BAA0B,6BAA6B,uBAAuB,6BAA6B,GAAG,iBAAiB,qHAAqH,oBAAoB,6BAA6B,0BAA0B,kCAAkC,2CAA2C,gBAAgB,wBAAwB,GAAG,G;;;;;;;;;;ACA50M;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,CAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC1uBA,MAAkG;AAClG,MAAwF;AACxF,MAAyF;AACzF,MAA2G;AAC3G,MAA0L;;;;AAI1L;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAE7E;AACA;AACA;AACA;AACA;AACA,iBAAiB,2FAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,6JAAO;;;;AAIoI;AAC5J,OAAO,iEAAe,6JAAO,IAAI,oKAAc,GAAG,oKAAc,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChD7E,MAAkG;AAClG,MAAwF;AACxF,MAAyF;AACzF,MAA2G;AAC3G,MAAmL;;;;AAInL;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAE7E;AACA;AACA;AACA;AACA;AACA,iBAAiB,2FAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,sJAAO;;;;AAI6H;AACrJ,OAAO,iEAAe,sJAAO,IAAI,6JAAc,GAAG,6JAAc,YAAY,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AChD7E,MAAkG;AAClG,MAAwF;AACxF,MAAyF;AACzF,MAA2G;AAC3G,MAAgL;;;;AAIhL;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAE7E;AACA;AACA;AACA;AACA;AACA,iBAAiB,2FAAS;;AAE1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,mJAAO;;;;AAI0H;AAClJ,OAAO,iEAAe,mJAAO,IAAI,0JAAc,GAAG,0JAAc,YAAY,EAAC;;;;;;;;;;;;ACjDhE;;AAEb;AACA;;AAEA;AACA;AACA,qDAAqD;;AAErD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,2B;;;;;;;;;;;AC1Ba;;AAEb;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;AChGa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,wB;;;;;;UC/CA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;UCNA;UACA;UACA;UACA","file":"cortico-min.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","// ==UserScript==\n// @name     Cortico\n// @version  2.1\n// @grant    none\n// ==/UserScript==\n\nimport { pubSubInit } from \"./modules/PubSub/PubSub\";\nimport dayjs from \"dayjs\";\nimport { getAppointments } from \"./modules/Appointments/Appointments\";\nimport { addAppointmentMenu } from \"./modules/Appointments/AppointmentMenu\";\nimport { Oscar } from \"./modules/Oscar/Oscar\";\nimport \"element-closest-polyfill\";\nimport { getOrigin, getProvider } from \"./modules/Utils/Utils\";\n\n// manually update this variable with the version in manifest.json\nconst version = 2.0;\nconst pubsub = pubSubInit();\nconst oscar = new Oscar(window.location.hostname);\n\nconst init_cortico = function () {\n  // create an element to indicate the library is loaded in the dom, and to contain fixed menus/elements.\n  const anchor = document.createElement(\"div\");\n  anchor.id = \"cortico_anchor\";\n  document.body.appendChild(anchor);\n\n  const route = \"\" + window.location;\n  const oscar_scripts = Array.from(\n    document.getElementsByTagName(\"script\")\n  ).filter(function (s) {\n    return (\n      s.src.indexOf(\"/Oscar.js\") > 0 ||\n      s.src.indexOf(\"/oscar/js/\") > 0 ||\n      s.src.indexOf(\"/appointment.js\") > 0\n    );\n  });\n\n  // do not run unless we're on an Oscar page.\n\n  if (oscar_scripts.length === 0) {\n    console.log(\"Cortico could not find any oscar script\");\n    return;\n  }\n\n  console.log(\"cortico plug-in initializing, version:\", version);\n  if (\n    route.indexOf(\"/appointment/addappointment.jsp\") > -1 ||\n    route.indexOf(\"/appointment/appointmentcontrol.jsp\") > -1\n  ) {\n    init_appointment_page();\n    init_recall_button();\n\n    // Temporary fix, adding event listener does not work inside init_appointment_page\n    // Note: event listeners inside init_recall_button seems to be working fine\n    var resources_field = document.querySelector('[name=\"resources\"]');\n    var cortico_button = document.getElementById(\"cortico-video-appt-btn\");\n    // open a windows to the cortico video page for this appointment.\n    cortico_button.addEventListener(\"click\", open_video_appointment_page);\n    resources_field.addEventListener(\"change\", update_video_button_visibility);\n    // init_diagnostic_viewer_button();\n  } else if (route.indexOf(\"/provider/providercontrol.jsp\") > -1) {\n    init_schedule();\n    dragAndDrop();\n    addCorticoLogo();\n    addMenu();\n    addAppointmentMenu();\n    if (!oscar.isJuno()) {\n      plusSignFromCache();\n    }\n\n    const isMarkham = window.location.href.includes(\"mmfcc\");\n    if (isMarkham) {\n      plusSignFromCache();\n    }\n\n    setupPrescriptionButtons();\n  } else if (route.indexOf(\"/oscarRx/ViewScript2.jsp\") > -1) {\n    // We need to determine first if the prescription is \"delivery\"\n    const currentPharmacyCode = localStorage.getItem(\"currentPharmacyCode\");\n\n    if (currentPharmacyCode.toLowerCase().indexOf(\"dlvr\") > -1) {\n      const additionalNotes = document.getElementById(\"additionalNotes\");\n      additionalNotes.value = \"FOR DELIVERY\";\n\n      // make sure the preview frame is loaded before adding the notes\n      const previewFrame = document.getElementById(\"preview\");\n\n      previewFrame.addEventListener(\"load\", function () {\n        // addNotes is a function in oscar\n        addNotes();\n      });\n\n      // setupFaxButton();\n    }\n  }\n  init_styles();\n};\n\nconst init_schedule = function () {\n  if (\n    !(\n      oscar.isOscarGoHost() ||\n      oscar.isKaiOscarHost() ||\n      oscar.containsKaiBar() ||\n      oscar.containsOscarGoOceanScript()\n    )\n  ) {\n    oscar.updateDoctorHeadings();\n    window.addEventListener(\"scroll\", oscar.updateDoctorHeadings);\n  } else {\n    console.log(\n      \"Oscar Go or KAI Oscar detected; disabling sticky headers for doctor names\"\n    );\n  }\n\n  // cancel the <meta http-equiv=\"refresh\" content=\"60;\">\n  // note: this is currently set to 30 seconds, which is enough time (the refresh occurs\n  // at 60s). Calling window.stop() too early breaks the Oscar menus (\"Inbox\" \"Msg\" \"Consultations\"\n  // \"Tickler\") that are loaded by ajax\n  window.setTimeout(window.stop, 5000);\n\n  // refresh when idle for 1 minute.\n  let last_interaction = new Date();\n  window.addEventListener(\"mousemove\", (e) => {\n    last_interaction = new Date();\n  });\n  const reloadHandler = setInterval(function () {\n    const now = new Date();\n    if (now.valueOf() - last_interaction.valueOf() > 60000) {\n      console.log(\"before clearInterval\");\n      clearInterval(reloadHandler);\n      if (\n        window.checkAllEligibilityRunning !== true ||\n        window.setupPreferredPharmaciesRunning !== true\n      ) {\n        window.location.reload();\n      }\n    }\n  }, 1000);\n};\n\nfunction update_video_button_visibility() {\n  var cortico_button = document.getElementById(\"cortico-video-appt-btn\");\n  var resources_field = document.querySelector('[name=\"resources\"]');\n  cortico_button.style.visibility =\n    resources_field.value === \"virtual\" ? \"visible\" : \"hidden\";\n}\n\nfunction open_video_appointment_page(e) {\n  e.preventDefault(); // don't submit the form.\n\n  if (!localStorage[\"clinicname\"]) {\n    var clinicname = prompt(\"what is your Cortico website URL?\");\n    if (clinicname.indexOf(\".cortico.ca\") > -1) {\n      clinicname = clinicname.substr(0, clinicname.indexOf(\".cortico.ca\"));\n      clinicname = clinicname.replace(/https?:\\/\\//, \"\");\n    }\n    localStorage[\"clinicname\"] = clinicname;\n  }\n  var appt_no = getQueryStringValue(\"appointment_no\");\n  if (!appt_no) {\n    return alert(\n      \"Please save your appointment first, before starting a video call.\"\n    );\n  }\n  window.open(\n    \"https://\" +\n      localStorage[\"clinicname\"] +\n      \".cortico.ca/appointment/\" +\n      appt_no\n  );\n}\n\nfunction init_appointment_page() {\n  // resources dropdown\n  var resources_field = document.querySelector(\n    'input[type=\"text\"][name=\"resources\"]'\n  );\n  const cortico_media = [\"phone\", \"clinic\", \"virtual\", \"\", \"quiet\"];\n\n  if (cortico_media.indexOf(resources_field.value) > -1) {\n    const parent = resources_field.parentNode;\n\n    let selectHtml = '<select name=\"resources\">';\n    cortico_media.forEach(function (value) {\n      selectHtml +=\n        \"<option \" +\n        (value == resources_field.value ? \"selected \" : \"\") +\n        'value=\"' +\n        value +\n        '\">' +\n        (value || \"n/a\") +\n        \"</option>\";\n    });\n    selectHtml += \"</select>\";\n\n    parent.innerHTML = selectHtml;\n\n    const resourceCheckbox = document.createElement(\"input\");\n    resourceCheckbox.setAttribute(\"type\", \"checkbox\");\n    resourceCheckbox.setAttribute(\"id\", \"resourceCheck\");\n\n    const resourceLabel = document.createElement(\"label\");\n    resourceLabel.setAttribute(\"for\", \"resourceCheck\");\n    resourceLabel.textContent = \"Text field\";\n    parent.appendChild(resourceCheckbox);\n    parent.appendChild(resourceLabel);\n\n    const resourceTextInput = document.createElement(\"input\");\n    resourceTextInput.setAttribute(\"type\", \"TEXT\");\n    resourceTextInput.setAttribute(\"name\", \"resources\");\n    resourceTextInput.setAttribute(\"tabindex\", \"5\");\n    resourceTextInput.setAttribute(\"width\", \"25\");\n\n    resourceCheckbox.addEventListener(\"input\", (e) => {\n      parent.innerHTML = \"\";\n      if (e.target.checked === true) {\n        parent.appendChild(resourceTextInput);\n      } else {\n        parent.innerHTML = selectHtml;\n      }\n\n      parent.appendChild(resourceCheckbox);\n      parent.appendChild(resourceLabel);\n    });\n\n    resources_field = document.querySelector('[name=\"resources\"]');\n  }\n\n  // telehealth button\n  var last_button = document.querySelector(\"#printReceiptButton\").parentNode;\n  last_button.parentNode.innerHTML +=\n    \"<button class='cortico-btn' type='button' id='cortico-video-appt-btn' style='color:white; background-color:blue'>Cortico Video Call &phone;</button>\";\n\n  update_video_button_visibility();\n}\n\nconst init_styles = function () {\n  var style = `.cortico-btn {\n  -webkit-appearance:none;\n  -moz-appearance:none;\n  appearance:none;\n  background:#4a527d;\n  border:.05rem solid #2e3769;\n  border-radius:.2rem;\n  color:#fff;\n  cursor:pointer;\n  display:inline-block;\n  font-family:Montserrat,sans-serif;\n  font-size:.8rem;\n  font-weight:600;\n  height:30px;\n  line-height:1.2rem;\n  outline:0;\n  padding:0 1rem;\n  text-align:center;\n  text-decoration:none;\n  transition:background .2s,border .2s,box-shadow .2s,color .2s;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n  vertical-align:middle;\n  white-space:nowrap\n  }\n  .cortico-btn:focus {\n  box-shadow:0 0 0 .1rem rgba(92,112,255,.2)\n  }\n  .cortico-btn:focus,\n  .cortico-btn:hover {\n  background:#2e3769;\n  border-color:#2e3769;\n  text-decoration:none\n  }\n  .cortico-btn.active,\n  .cortico-btn:active {\n  background:#4a527d;\n  border-color:#262e57;\n  color:#fff;\n  text-decoration:none\n  }\n  `;\n\n  if (!oscar.isKaiOscarHost()) {\n    style += `\n  .infirmaryView:first-child {\n  /*position:fixed;*/\n  margin-left: 57px;\n  padding: 1px 15px;\n  top: 0;\n  }`;\n  }\n  addGlobalStyle(style);\n};\n\nif (!document.getElementById(\"cortico_anchor\")) {\n  // avoid duplicating the extension/script.\n  init_cortico();\n} else {\n  console.warn(\"Cortico plug-in installed more than once. A\");\n}\n\n// -- utilities\nfunction getQueryStringValue(key) {\n  return decodeURIComponent(\n    window.location.search.replace(\n      new RegExp(\n        \"^(?:.*[&\\\\?]\" +\n          encodeURIComponent(key).replace(/[\\.\\+\\*]/g, \"\\\\$&\") +\n          \"(?:\\\\=([^&]*))?)?.*$\",\n        \"i\"\n      ),\n      \"$1\"\n    )\n  );\n}\n\nfunction addGlobalStyle(css) {\n  var head, style;\n  head = document.getElementsByTagName(\"head\")[0];\n  if (!head) {\n    return;\n  }\n  style = document.createElement(\"style\");\n  style.type = \"text/css\";\n  style.innerHTML = css;\n  head.appendChild(style);\n}\n\nfunction addCorticoLogo() {\n  var menu =\n    document.querySelector(\"#firstMenu #navList\") ||\n    document.querySelector(\"#firstMenu #navlist\");\n  var listitem = document.createElement(\"li\");\n  listitem.innerHTML =\n    '<a href=\"http://cortico.ca\"><img src=\"http://bool.countable.ca/32x32.png\" height=\"15\" style=\"vertical-align: middle;\" /></a>';\n  menu.appendChild(listitem);\n}\n\nfunction styleSheetFactory(namespace) {\n  if (!window[namespace]) {\n    var styleSheet = document.createElement(\"style\");\n    styleSheet.type = \"text/css\";\n    document.head.appendChild(styleSheet);\n    window[namespace] = styleSheet;\n    return styleSheet;\n  }\n  return window[namespace];\n}\n\nfunction createSideBar() {\n  if (window.corticoSidebar) {\n    return window.corticoSidebar;\n  }\n\n  var sidebar = document.createElement(\"div\");\n  window.corticoSidebar = sidebar;\n  sidebar.classList.add(\"cortico-sidebar\");\n\n  sidebar.innerHTML =\n    '<a href=\"https://cortico.ca\"><img src=\"https://cortico.ca/_nuxt/img/footer-logo.5fde08e.svg\"  alt=\"Cortico\" style=\"margin-bottom: 25px;\" /></a>';\n\n  var sidebarClose = document.createElement(\"div\");\n  sidebarClose.classList.add(\"cortico-sidebar-close\");\n  sidebarClose.textContent = \"Close\";\n  sidebarClose.style.cursor = \"pointer\";\n  sidebarClose.addEventListener(\"click\", function () {\n    sidebar.classList.remove(\"cortico-sidebar-show\");\n  });\n  sidebar.appendChild(sidebarClose);\n\n  var newUiOption = getNewUIOption();\n  sidebar.appendChild(newUiOption);\n\n  sidebar.appendChild(getCorticoUrlOption());\n  sidebar.appendChild(getRecallStatusOption());\n  sidebar.appendChild(getEligStatus());\n  sidebar.appendChild(getEligButton());\n  sidebar.appendChild(getEligFailed());\n  sidebar.appendChild(getBatchPharmaciesStatus());\n  sidebar.appendChild(getBatchPharmaciesButton());\n\n  var styleSheet = styleSheetFactory(\"cortico_sidebar\");\n  var styles = \"\";\n  styles +=\n    \".cortico-sidebar { position: fixed; top: 0; right: 0; bottom: 0; width: 300px; background-color: white; height: 100%; z-index: 50; }\";\n  styles +=\n    \".cortico-sidebar { transition: transform 0.25s ease-in; transform: translateX(300px); }\";\n  styles +=\n    \".cortico-sidebar { display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 1px 5px 5px rgb(0, 0, 0); }\";\n  styles += \".cortico-sidebar-show { transform: translateX(0); }\";\n  styles +=\n    \".cortico-sidebar-close { position: absolute; top: 10px; right: 10px; z-index: 500; }\";\n  styleSheet.innerText = styles;\n\n  return sidebar;\n}\n\nfunction showDiagnosticResults(html_string) {\n  if (window.diagnosticResults) {\n    window.diagnosticResults.style.display = \"block\";\n    return window.diagnosticResults;\n  }\n\n  var container = document.createElement(\"div\");\n  window.diagnosticResults = container;\n  container.classList.add(\"cortico-diagnostic-viewer\");\n  container.innerHTML = html_string;\n\n  var containerClose = document.createElement(\"button\");\n  containerClose.classList.add(\"cortico-diagnostic-close\");\n  containerClose.textContent = \"Close\";\n  containerClose.style.cursor = \"pointer\";\n  containerClose.addEventListener(\"click\", function () {\n    container.style.display = \"none\";\n  });\n  container.appendChild(containerClose);\n\n  var styleSheet = styleSheetFactory(\"cortico_sidebar\");\n  var styles = \"\";\n  styles +=\n    \".cortico-diagnostic-viewer { position: fixed; top: 20%; left: 50% ;width: 300px; background-color: white; transform: translate(-50%, 0) }\";\n  styles +=\n    \".cortico-diagnostic-viewer { padding: 20px; padding-top: 30px; border: 1px solid }\";\n  styles +=\n    \".cortico-diagnostic-close { position: absolute; top: 10px; right: 10px; z-index: 500; }\";\n  styleSheet.innerText = styles;\n\n  console.log(\"prepending\");\n  document.body.prepend(container);\n}\n\nfunction addMenu(container) {\n  var navigation =\n    document.querySelector(\"#firstMenu #navList\") ||\n    document.querySelector(\"#firstMenu #navlist\");\n  var menu = document.createElement(\"li\");\n  menu.textContent = \"Cortico\";\n  menu.style.color = \"rgb(75, 84, 246)\";\n  menu.style.cursor = \"pointer\";\n\n  var sidebar = createSideBar();\n  menu.addEventListener(\"click\", function () {\n    sidebar.classList.toggle(\"cortico-sidebar-show\");\n  });\n\n  document.body.prepend(sidebar);\n  navigation.appendChild(menu);\n}\n\nfunction getRecallStatusOption() {\n  var container = document.createElement(\"div\");\n  container.style.width = \"100%\";\n  container.style.padding = \"0px 10px\";\n  container.style.boxSizing = \"border-box\";\n\n  var inputContainer = document.createElement(\"div\");\n  inputContainer.style.display = \"flex\";\n  inputContainer.style.alignItems = \"center\";\n  inputContainer.style.justifyContent = \"center\";\n\n  var input = document.createElement(\"input\");\n  input.setAttribute(\"id\", \"recall-status\");\n  input.setAttribute(\"type\", \"text\");\n  input.setAttribute(\"placeholder\", \"Recall Status\");\n  input.style.fontSize = \"16px\";\n  input.style.padding = \"5px 5px\";\n  input.style.margin = \"0px 10px\";\n  input.style.width = \"35%\";\n  input.style.backgroundColor = \"transparent\";\n  input.style.border = \"1px solid rgb(75, 84, 246)\";\n\n  inputContainer.appendChild(input);\n\n  if (localStorage.getItem(\"recall-status\")) {\n    input.value = localStorage.getItem(\"recall-status\");\n  }\n\n  var label = document.createElement(\"label\");\n  label.setAttribute(\"for\", \"recall-status\");\n  label.textContent = \"Status to check for recall button\";\n  label.style.display = \"block\";\n  label.style.marginTop = \"30px\";\n  label.style.marginBottom = \"10px\";\n  label.style.textAlign = \"center\";\n\n  var button = document.createElement(\"button\");\n  button.textContent = \"Save\";\n  button.style.width = \"100%\";\n  button.style.display = \"inline-block\";\n  button.style.margin = \"10px auto\";\n\n  container.appendChild(label);\n  container.appendChild(inputContainer);\n  container.appendChild(button);\n\n  button.addEventListener(\"click\", function () {\n    if (input.value) {\n      localStorage.setItem(\"recall-status\", input.value);\n      alert(\"Your recall status has changed\");\n    }\n  });\n  return container;\n}\n\nfunction getEligStatus() {\n  var container = document.createElement(\"div\");\n  container.style.textAlign = \"center\";\n  pubsub.subscribe(\"check-eligibility\", (topic, data) => {\n    const progress = \"(\" + data.current + \"/\" + data.total + \")\";\n\n    if (data.complete === true) {\n      container.innerHTML = \"Check Complete!\";\n    } else {\n      const header = \"Currenty Processing\" + progress + \":\";\n      const name = data.info.split(\"\\n\")[1];\n      container.innerHTML = \"<p>\" + header + \"<br/>\" + name + \"</p>\";\n    }\n  });\n  return container;\n}\n\nfunction getBatchPharmaciesStatus() {\n  var container = document.createElement(\"div\");\n  container.style.textAlign = \"center\";\n  pubsub.subscribe(\"check-batch-pharmacies\", (topic, data) => {\n    const progress = \"(\" + data.current + \"/\" + data.total + \")\";\n\n    if (data.complete === true) {\n      container.innerHTML = \"Setup Complete!\";\n    } else {\n      const header = \"Currenty Processing\" + progress + \":\";\n      container.innerHTML = \"<p>\" + header + \"<br/>\" + \"</p>\";\n    }\n  });\n  return container;\n}\n\nfunction getEligFailed() {\n  var container = document.createElement(\"div\");\n  container.style.textAlign = \"center\";\n  pubsub.subscribe(\"check-eligibility-failed\", (topic, data) => {\n    container.innerHTML = '<p style=\"margin-top: 10px;\">Failed to Verify:</p>';\n\n    const list = getFailedList(data);\n    container.appendChild(list);\n  });\n\n  return container;\n}\n\nfunction getFailedList(data) {\n  let failed = JSON.parse(data);\n  let listItems = \"\";\n\n  // make sure that failed is of type array so map function works\n  if (typeof failed === \"string\") {\n    failed = JSON.parse(failed);\n  }\n\n  if (failed) {\n    failed.map((f) => {\n      listItems += `<li>Demographic No: ${f.demographic_no}</li>`;\n    });\n  }\n  const list = document.createElement(\"ul\");\n  list.innerHTML = listItems;\n  return list;\n}\n\nfunction getNewUIOption() {\n  var container = document.createElement(\"div\");\n\n  var input = document.createElement(\"input\");\n  input.setAttribute(\"id\", \"corticoui\");\n  input.setAttribute(\"type\", \"checkbox\");\n  input.style.verticalAlign = \"middle\";\n  container.appendChild(input);\n\n  input.addEventListener(\"change\", function () {\n    if (this.checked) {\n      localStorage.setItem(\"newui\", \"true\");\n      addNewUI();\n    } else {\n      localStorage.setItem(\"newui\", \"false\");\n      removeNewUI();\n    }\n  });\n\n  if (localStorage.getItem(\"newui\") === \"true\") {\n    input.checked = true;\n    addNewUI();\n  }\n\n  var label = document.createElement(\"label\");\n  label.setAttribute(\"for\", \"corticoui\");\n  label.textContent = \"Activate New UI\";\n  label.style.marginLeft = \"5px\";\n  container.appendChild(label);\n\n  return container;\n}\n\nfunction getCorticoUrlOption() {\n  var container = document.createElement(\"div\");\n  container.style.width = \"100%\";\n  container.style.padding = \"0px 10px\";\n  container.style.boxSizing = \"border-box\";\n  var inputContainer = document.createElement(\"div\");\n  inputContainer.style.display = \"flex\";\n  inputContainer.style.alignItems = \"center\";\n  inputContainer.style.justifyContent = \"center\";\n\n  var prefix = document.createElement(\"span\");\n  prefix.textContent = \"https://\";\n  var suffix = document.createElement(\"span\");\n  suffix.textContent = \".cortico.ca\";\n  var input = document.createElement(\"input\");\n  input.setAttribute(\"id\", \"cortico-url\");\n  input.setAttribute(\"type\", \"text\");\n  input.setAttribute(\"placeholder\", \"Clinic Name\");\n  input.style.fontSize = \"16px\";\n  input.style.padding = \"5px 5px\";\n  input.style.margin = \"0px 10px\";\n  input.style.width = \"35%\";\n  input.style.backgroundColor = \"transparent\";\n  input.style.border = \"1px solid rgb(75, 84, 246)\";\n\n  inputContainer.appendChild(prefix);\n  inputContainer.appendChild(input);\n  inputContainer.appendChild(suffix);\n\n  if (localStorage.getItem(\"clinicname\")) {\n    input.value = localStorage.getItem(\"clinicname\");\n  }\n\n  var label = document.createElement(\"label\");\n  label.setAttribute(\"for\", \"cortico-url\");\n  label.textContent = \"Your cortico clinic name\";\n  label.style.display = \"block\";\n  label.style.marginTop = \"30px\";\n  label.style.marginBottom = \"10px\";\n  label.style.textAlign = \"center\";\n\n  var button = document.createElement(\"button\");\n  button.textContent = \"Save\";\n  button.style.width = \"100%\";\n  button.style.display = \"inline-block\";\n  button.style.margin = \"10px auto\";\n\n  container.appendChild(label);\n  container.appendChild(inputContainer);\n  container.appendChild(button);\n\n  button.addEventListener(\"click\", function () {\n    if (input.value) {\n      const corticoUrl = input.value + \".cortico.ca\";\n      localStorage.setItem(\"clinicname\", input.value);\n      alert(\"Your clinic name has changed\");\n    }\n  });\n  return container;\n}\n\nfunction getEligButton() {\n  var button = document.createElement(\"button\");\n  button.textContent = \"Check Eligiblity\";\n  button.addEventListener(\"click\", async (e) => {\n    await checkAllEligibility();\n  });\n  //button.addEventListener(\"click\", window.checkAllEligibility);\n  return button;\n}\n\nfunction getBatchPharmaciesButton() {\n  var button = document.createElement(\"button\");\n  button.textContent = \"Set preferred pharmacies\";\n  button.addEventListener(\"click\", setupPreferredPharmacies);\n  return button;\n}\n\nfunction addNewUI() {\n  var styleSheet = styleSheetFactory(\"newUIStyleSheet\");\n  var styles = \"#providerSchedule td { padding: 2px; }\";\n  styles +=\n    \".adhour { text-shadow: 1px 1px 1px rgba(0,0,0,1); font-size: 14px; }\";\n  styles += \".appt { box-shadow: 1px 3px 3px rgba(0,0,0,0.1); }\";\n  styles += \"#providerSchedule { border: 0; }\";\n  styles +=\n    \"#providerSchedule td { border: 0; border-bottom: 1px solid rgba(0,0,0,0.2); font-size: 14px; }\";\n  styles +=\n    \"#providerSchedule td.noGrid { border: 0; border-bottom: 1px solid rgba(0,0,0,0.2); font-size: 14px; }\";\n  styles +=\n    \"#firstTable { background-color: #efeef3; } #firstMenu a { font-weight: 400; color: #171458; font-size: 14px; }\";\n  styles += \"#ivoryBar td { background-color: white; padding: 5px; }\";\n  styles += \".infirmaryView { background-color: #efeef3; }\";\n  styles +=\n    \"#ivoryBar input, #ivoryBar select, .infirmaryView input, .infirmaryView .ds-btn { background-color: #171458 !important; color: white !important; font-weight: bold !important; padding: 2px;  }\";\n  styles += \"#ivoryBar input:placeholder { font-weight: bold; color: white; }\";\n  styleSheet.innerText = styles;\n}\n\nfunction removeNewUI() {\n  var styleSheet = styleSheetFactory(\"newUIStyleSheet\");\n  var styles = \"\";\n  styleSheet.innerText = styles;\n}\n\n/* Drag and Drop Feature Begin */\n\nfunction appointmentRowDragStart(ev) {\n  if (ev.target.matches(\"td.appt\")) {\n    window.dragSelectedTarget = ev.target;\n    ev.dataTransfer.setDragImage(ev.target, 0, 0);\n  }\n}\n\nfunction isValidDragItem() {\n  return !!window.dragSelectedTarget;\n}\n\nfunction isSameDay(startDate, endDate) {\n  return startDate.isSame(endDate, \"day\");\n}\n\nfunction dragAndDrop() {\n  if (document.readyState !== \"loading\") {\n    var appointmentRows = document.querySelectorAll(\"td.appt\");\n    appointmentRows.forEach(function (node) {\n      node.setAttribute(\"draggable\", true);\n      node.addEventListener(\"dragstart\", appointmentRowDragStart);\n    });\n  } else {\n    window.addEventListener(\"DOMContentLoaded\", () => {\n      var appointmentRows = document.querySelectorAll(\"td.appt\");\n      appointmentRows.forEach(function (node) {\n        node.setAttribute(\"draggable\", true);\n        node.addEventListener(\"dragstart\", appointmentRowDragStart);\n      });\n    });\n  }\n\n  function dragover_handler(ev) {\n    if (!isValidDragItem()) {\n      return;\n    }\n\n    ev.preventDefault();\n    ev.dataTransfer.dropEffect = \"link\";\n    var target = ev.target;\n\n    var isAppt = target.classList.contains(\"appt\");\n    var isEmpty = target.classList.contains(\"noGrid\");\n    if (isAppt || isEmpty) {\n      target.style.backgroundColor = \"yellow\";\n      window.dragTarget = target;\n    }\n  }\n\n  function dragleave_handler(ev) {\n    if (!isValidDragItem()) {\n      return;\n    }\n    if (!dragTarget) {\n      return;\n    }\n    //Comment because unstable, this will undo highlight multiple rows in the table\n    //target.setAttribute('rowspan', 1)\n    handleColors(dragTarget);\n  }\n\n  function handleColors(target) {\n    //Appropriately reset colors on hover and dragend, dragover\n    var isAppt = target.classList.contains(\"appt\");\n    var isEmpty = target.classList.contains(\"noGrid\");\n    if (isAppt) {\n      target.style.backgroundColor = \"#FDFEC7\";\n    } else if (isEmpty) {\n      target.style.backgroundColor = \"#486ebd\";\n    }\n  }\n\n  async function drop_handler(ev) {\n    if (!isValidDragItem()) {\n      return;\n    }\n\n    handleColors(ev.target);\n\n    // Sibling table cell has the start time\n    const newStartTime =\n      ev.target.parentElement.firstElementChild.firstElementChild.textContent.trim();\n\n    // Get the appointment edit link, we're going to fetch this page in memory later\n    const apptLink = getAppointmentLink(dragSelectedTarget);\n    if (!apptLink) {\n      alert(\"No Valid Appointment Link Found\");\n      return false;\n    }\n\n    const apptLinkText = apptLink.attributes.onclick.textContent;\n\n    //Get the URL and Take out the \"../\" in front\n    const apptUrl = extractApptUrl(apptLinkText);\n\n    //Get our base url with the provider\n    const origin = getOrigin();\n    const provider = getProvider();\n\n    let result = await appointmentEditRequest(origin, provider, apptUrl);\n    let text = await result.text();\n\n    //Make an element in memory, and we're gonna place the contents of the fetched page here, so we can grab the formdata\n    const temp = document.createElement(\"div\");\n    temp.style.display = \"none\";\n    temp.innerHTML = text;\n\n    const formData = new FormData(temp.querySelector(\"FORM\"));\n    const originalStartTime = formData.get(\"start_time\");\n    const apptDate = formData.get(\"appointment_date\");\n    const duration = formData.get(\"duration\") - 1;\n\n    const newEndTime = dayjs(apptDate + \"T\" + newStartTime)\n      .add(duration, \"minute\")\n      .format(\"HH:mm\");\n\n    // We check to see if the drag and drop overlaps to the next day, if it does we prevent.\n    const _newStartTime = dayjs(apptDate + \"T\" + newStartTime);\n    const _newEndTime = dayjs(apptDate + \"T\" + newStartTime).add(\n      duration,\n      \"minute\"\n    );\n\n    if (!isSameDay(_newStartTime, _newEndTime)) {\n      alert(\"Cannot overlap to the next day\");\n      return;\n    }\n\n    const apptDoctor = formData.get(\"provider_no\");\n    const targetDoctor = getProviderNoFromTd(ev.target);\n    const isSameDoctor = apptDoctor === targetDoctor;\n    const doctor = targetDoctor;\n\n    formData.set(\"start_time\", newStartTime);\n    formData.set(\"end_time\", newEndTime);\n\n    if (isSameDoctor) {\n      result = await updateAppointment(origin, provider, formData);\n      text = await result.text();\n      console.log(text);\n      const parent = ev.target.parentElement;\n      parent.insertBefore(dragSelectedTarget, ev.target);\n\n      updateAppointmentAnchorLinks(\n        dragSelectedTarget,\n        { start_time: originalStartTime, provider_no: apptDoctor },\n        { start_time: newStartTime, provider_no: targetDoctor }\n      );\n    } else {\n      result = await cutAppointment(origin, provider, formData);\n      formData.set(\"provider_no\", targetDoctor);\n\n      handleAddData(formData);\n      const data = new URLSearchParams(formData);\n      result = await addAppointment(origin, provider, data);\n\n      window.location.reload();\n    }\n  }\n\n  // Maybe better to use event delegation in the future\n  var emptyRows = document.querySelectorAll(\"td.noGrid\");\n  emptyRows.forEach(function (node) {\n    node.addEventListener(\"dragover\", dragover_handler);\n    node.addEventListener(\"dragleave\", dragleave_handler);\n    node.addEventListener(\"drop\", drop_handler);\n  });\n\n  var appointmentRows = document.querySelectorAll(\"td.appt\");\n  appointmentRows.forEach(function (node) {\n    node.addEventListener(\"dragover\", dragover_handler);\n    node.addEventListener(\"dragleave\", dragleave_handler);\n    node.addEventListener(\"drop\", drop_handler);\n  });\n}\n\n/* Drag and Drop Feature end */\n\nfunction addToFailures(metadata) {\n  const _cache = getFailureCache();\n  const cache = JSON.parse(_cache) || [];\n  cache.push(metadata);\n  localStorage.setItem(\"failureCache\", JSON.stringify(cache));\n}\n\nfunction clearFailureCache() {\n  return localStorage.removeItem(\"failureCache\");\n}\n\nfunction getFailureCache() {\n  return localStorage.getItem(\"failureCache\");\n}\n\nfunction addToCache(demographic_no, _verified) {\n  const verified = _verified || false;\n  const _cache = localStorage.getItem(\"checkCache\");\n  const _today = dayjs().format(\"YYYY-MM-DD\");\n  const cache = JSON.parse(_cache) || {};\n  cache[demographic_no] = {\n    date: _today,\n    verified: verified,\n  };\n\n  localStorage.setItem(\"checkCache\", JSON.stringify(cache));\n}\n\nfunction filterAppointments(appointments) {\n  const _cache = localStorage.getItem(\"checkCache\");\n  const _today = dayjs().format(\"YYYY-MM-DD\");\n\n  if (!_cache) {\n    return appointments;\n  }\n\n  const cache = JSON.parse(_cache);\n  return appointments.filter((appt) => {\n    const demographic_no = appt.demographic_no;\n\n    // Check appointment if it doesn't exist in cache\n\n    if (!cache.hasOwnProperty(demographic_no)) {\n      return true;\n    }\n\n    const cachedDate = cache[demographic_no].date;\n    // Check appointment if it exists in cache, but expired\n    if (isDateExpired(dayjs(cachedDate), _today, 5)) {\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction isDateExpired(past, now, days) {\n  const diff = past.diff(now, \"day\");\n  return Math.abs(diff) > days;\n}\n\nasync function checkAllEligibility() {\n  console.log(\"it got here\");\n  //localStorage.removeItem(\"checkCache\")\n\n  if (window.checkAllEligibilityRunning === true) {\n    return alert(\"Check Already Running\");\n  }\n\n  clearFailureCache();\n  var nodes = document.querySelectorAll(\"td.appt\");\n  var appointmentInfo = getAppointmentInfo(nodes);\n  appointmentInfo = filterAppointments(appointmentInfo);\n\n  var length = appointmentInfo.length;\n  if (appointmentInfo.length === 0) {\n    alert(\"No Appointments to Check\");\n  }\n  var error = false;\n\n  window.checkAllEligibilityRunning = true;\n  try {\n    for (let i = 0; i < length; i++) {\n      const temp = Object.assign({}, appointmentInfo[i]);\n      temp.total = length;\n      temp.current = i + 1;\n      pubsub.publish(\"check-eligibility\", temp);\n\n      const demographic_no = appointmentInfo[i].demographic_no;\n      const result = await checkEligiblity(\n        demographic_no,\n        getOrigin(),\n        getProvider()\n      );\n      const text = await result.text();\n      const lowerCaseText = text.toLowerCase();\n\n      if (lowerCaseText.includes(\"error in teleplan connection\")) {\n        alert(\"Automatic Eligiblity Check Aborted. \\n\" + text);\n        error = true;\n        break;\n      }\n\n      let verified = false;\n\n      if (\n        (!lowerCaseText.includes(\"failure-phn\") &&\n          lowerCaseText.includes(\"success\")) ||\n        lowerCaseText.includes(\"health card passed validation\")\n      ) {\n        plusSignAppointments(demographic_no);\n        verified = true;\n      } else {\n        appointmentInfo[i][\"reason\"] = text;\n        addToFailures(appointmentInfo[i]);\n        pubsub.publish(\"check-eligibility-failed\", getFailureCache());\n      }\n\n      addToCache(demographic_no, verified);\n\n      await new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve();\n        }, 5000);\n      });\n    }\n  } catch (err) {\n    alert(err);\n  } finally {\n    window.checkAllEligibilityRunning = false;\n    pubsub.publish(\"check-eligibility\", {\n      complete: true,\n      total: length,\n      error,\n    });\n  }\n}\n\nfunction getPharmacyResults(searchTerm) {\n  const uriSafeSearch = searchTerm.toLowerCase().replace(\" \", \"+\");\n  const newLocal =\n    \"oscarRx/managePharmacy.do?method=search&search&term=\" + uriSafeSearch;\n  var url = getOrigin() + \"/\" + getProvider() + \"/\" + newLocal;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      Accept: \"text/javascript, text/html, application/xml, text/xml, */*\",\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}\n\nfunction getCurrentPharmacy(demographicNo) {\n  const newLocal =\n    \"oscarRx/managePharmacy.do?method=getPharmacyFromDemographic&demographicNo=\" +\n    demographicNo;\n  var url = getOrigin() + \"/\" + getProvider() + \"/\" + newLocal;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      Accept: \"text/javascript, text/html, application/xml, text/xml, */*\",\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}\n\nfunction setPreferredPharmacy(pharmacyObj, demographicNo) {\n  const url =\n    getOrigin() +\n    \"/\" +\n    getProvider() +\n    \"/\" +\n    \"oscarRx/managePharmacy.do?method=setPreferred\";\n\n  pharmacyObj.name = pharmacyObj.name.replace(\" \", \"+\");\n\n  var formData = new FormData();\n  formData.append(\"pharmacyId\", pharmacyObj.id);\n  formData.append(\"demographicNo\", demographicNo);\n  formData.append(\"pharmacyName\", pharmacyObj.name);\n  formData.append(\"pharmacyAddress\", pharmacyObj.address);\n  formData.append(\"pharmacyCity\", pharmacyObj.city);\n  formData.append(\"pharmacyProvince\", pharmacyObj.province);\n  formData.append(\"pharmacyPostalCode\", pharmacyObj.postalCode);\n  formData.append(\"pharmacyPhone1\", pharmacyObj.phone1);\n  formData.append(\"pharmacyPhone2\", pharmacyObj.phone2);\n  formData.append(\"pharmacyFax\", pharmacyObj.fax);\n  formData.append(\"pharmacyEmail\", pharmacyObj.email);\n  formData.append(\n    \"pharmacyServiceLocationId\",\n    pharmacyObj.serviceLocationIdentifier\n  );\n  formData.append(\"pharmacyNotes\", pharmacyObj.notes);\n  formData.append(\"preferredOrder\", \"1\");\n\n  const data = new URLSearchParams(formData);\n\n  return fetch(url, {\n    method: \"POST\",\n    body: data,\n    headers: {\n      Accept:\n        \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  });\n}\n\nfunction checkEligiblity(demographicNo, origin, provider) {\n  var url =\n    origin +\n    \"/\" +\n    provider +\n    \"/\" +\n    \"billing/CA/BC/ManageTeleplan.do?demographic=\" +\n    demographicNo +\n    \"&method=checkElig\";\n\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      Accept: \"text/javascript, text/html, application/xml, text/xml, */*\",\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n    },\n  });\n}\n\nfunction getAppointmentLink(apptTdElement) {\n  var apptLink = apptTdElement.querySelector(\"a.apptLink\");\n\n  if (apptLink) {\n    return apptLink;\n  }\n\n  // If doctor isn't set, the anchor element has no class called apptLink, so we traverse through all anchor elements\n  if (!apptLink) {\n    var anchors = apptTdElement.querySelectorAll(\"a\");\n    anchors.forEach((anchor) => {\n      var temp = anchor.attributes.onclick.nodeValue;\n      if (\n        temp.includes(\"popupPage\") &&\n        temp.includes(\"appointmentcontrol.jsp\")\n      ) {\n        if (!apptLink) {\n          apptLink = anchor;\n        }\n      }\n    });\n  }\n\n  return apptLink;\n}\n\nfunction getDemographicNo(apptUrl) {\n  var searchParams = new URLSearchParams(apptUrl);\n  return searchParams.get(\"demographic_no\");\n}\n\nfunction getAppointmentInfo(apptNodes) {\n  var appointmentInfo = [];\n  apptNodes.forEach(function (node) {\n    var temp = {};\n\n    var apptLink = getAppointmentLink(node);\n    // Already verified\n    if (apptLink.textContent.includes(\"+\")) {\n      return;\n    }\n    var apptUrl = extractApptUrl(apptLink.attributes.onclick.textContent);\n    var demographicNo = getDemographicNo(apptUrl);\n\n    temp.demographic_no = demographicNo;\n    temp.info = apptLink.attributes.title.nodeValue;\n    appointmentInfo.push(temp);\n  });\n\n  //Remove duplicates and return\n  return appointmentInfo.filter(\n    (v, i, a) => a.findIndex((t) => t.demographic_no === v.demographic_no) === i\n  );\n}\n\nfunction extractApptUrl(s) {\n  return s.match(/'([^']+)'/)[1].substring(2);\n}\n\nfunction appointmentEditRequest(origin, provider, apptUrl) {\n  return fetch(origin + \"/\" + provider + apptUrl);\n}\n\nfunction handleAddData(data) {\n  if (!oscar.isJuno()) {\n    return data;\n  }\n\n  data.set(\"appointmentNo\", data.get(\"appointment_no\"));\n  data.delete(\"appointment_no\");\n  data.set(\"dboperation\", \"search_titlename\");\n  data.set(\"sendBookingNotification\", \"false\");\n  data.set(\"outofdomain\", \"true\");\n  data.set(\"operationType\", \"CUT\");\n  data.set(\"fromAppt\", \"1\");\n}\n\nfunction addAppointment(origin, provider, data) {\n  data.set(\"displaymode\", \"Add Appointment\");\n  const _data = new URLSearchParams(data);\n  return appointmentRequest(origin, provider, _data);\n}\nfunction cutAppointment(origin, provider, data) {\n  data.set(\"displaymode\", \"Cut\");\n  const _data = new URLSearchParams(data);\n  return appointmentRequest(origin, provider, _data);\n}\n\nfunction updateAppointment(origin, provider, data) {\n  data.set(\"displaymode\", \"Update Appt\");\n  const _data = new URLSearchParams(data);\n  return appointmentRequest(origin, provider, _data);\n}\n\nfunction appointmentRequest(origin, provider, data) {\n  return fetch(\n    origin + \"/\" + provider + \"/appointment/appointmentcontrol.jsp\",\n    {\n      method: \"POST\",\n      body: data,\n      headers: {\n        Accept:\n          \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n    }\n  );\n}\n\n// This TD Element needs to be an appointment or empty slot.\nfunction getProviderNoFromTd(tdElement) {\n  //oscar osp\n  var dsButton = tdElement\n    .closest(\"table\")\n    .closest(\"tbody\")\n    .querySelector(\".ds-btn\");\n  if (dsButton) {\n    return dsButton.dataset.provider_no;\n  }\n\n  //juno\n  var dsInput = tdElement\n    .closest(\"table\")\n    .closest(\"tbody\")\n    .querySelector('input[name=\"searchview\"]');\n  if (dsInput) {\n    return dsInput.attributes.onclick.nodeValue.match(/'([^']+)'/)[1];\n  }\n\n  return null;\n}\n\nfunction updateAppointmentAnchorLinks(apptTdElement, oldOptions, newOptions) {\n  apptTdElement.querySelectorAll(\"a\").forEach((node) => {\n    var linkAttribute = node.attributes.onclick || node.attributes.href;\n    var linkValue = linkAttribute.nodeValue;\n\n    var { start_time: oldStartTime, provider_no: oldProviderNo } = oldOptions;\n    var { start_time: newStartTime, provider_no: newProviderNo } = newOptions;\n\n    linkValue = linkValue.replace(\n      \"start_time=\" + oldStartTime,\n      \"start_time=\" + newStartTime\n    );\n    linkValue = linkValue.replace(\n      \"startTime=\" + oldStartTime,\n      \"startTime=\" + newStartTime\n    );\n\n    /*\n    linkValue = linkValue.replace(\"providerNo=\" + oldProviderNo, \"providerNo=\" + newProviderNo);\n    linkValue = linkValue.replace(\"apptProvider_no=\" + oldProviderNo, \"apptProvider_no=\" + newProviderNo);\n    linkValue = linkValue.replace(\"provider_no=\" + oldProviderNo, \"provider_no=\" + newProviderNo);\n    */\n\n    linkAttribute.nodeValue = linkValue;\n  });\n}\n\nfunction addVerifiedMark(mark, node) {\n  if (node && mark) {\n    node.innerHTML = mark + node.innerHTML;\n    return node;\n  }\n  return null;\n}\n\nfunction plusSignAppointments(demographic_no) {\n  const appointments = getAppointments(demographic_no);\n  appointments.map((appt) => {\n    var apptLink = getAppointmentLink(appt);\n    addVerifiedMark(\" + &nbsp;\", apptLink);\n  });\n}\n\nfunction plusSignFromCache() {\n  const _cache = localStorage.getItem(\"checkCache\");\n  if (!_cache) return;\n  const cache = JSON.parse(_cache);\n  console.log(\"Cacheeee\", cache);\n\n  const _today = dayjs().format(\"YYYY-MM-DD\");\n\n  for (let key in cache) {\n    if (cache[key].verified === true) {\n      const cachedDate = cache[key].date;\n      // Check appointment if it exists in cache, but expired\n      if (isDateExpired(dayjs(cachedDate), _today, 5)) {\n        continue;\n      }\n      plusSignAppointments(key);\n    }\n  }\n}\n\nfunction stringArrayToObj(stringArray) {\n  var obj = {};\n  for (var i = 0; i < stringArray.length; i++) {\n    var split = stringArray[i].split(\":\");\n\n    if (!split[0] || !split[1]) {\n      continue;\n    }\n    obj[split[0].trim()] = split[1].trim();\n  }\n\n  return obj;\n}\n\nfunction getPharmacyCodeFromReasonOrNotes(textContent) {\n  var titleContents = textContent.split(\"\\n\");\n  var apptFields = stringArrayToObj(titleContents);\n\n  // assuming that the notes is always the last field in the textContent\n  var textContentList = textContent.split(\"notes: \");\n  var notesValue = textContentList[textContentList.length - 1];\n\n  var notesValuesList = notesValue.match(/\\[(.*?)\\]/g);\n  var pharmacyCode =\n    notesValuesList && notesValuesList.length > 0 ? notesValuesList[0] : null;\n\n  // Check RFV field if not existing in notes\n  if (!pharmacyCode) {\n    var reason = apptFields[\"reason\"];\n    var reasonValuesList = reason.match(/\\[(.*?)\\]/g);\n\n    // we are assuming here that the pharmacy code is the 2nd\n    pharmacyCode =\n      reasonValuesList && reasonValuesList.length > 0\n        ? reasonValuesList[1]\n        : null;\n  }\n\n  if (pharmacyCode) {\n    pharmacyCode = pharmacyCode.replace(/[\\[\\]']+/g, \"\");\n  }\n\n  return pharmacyCode;\n}\n\nfunction setupPrescriptionButtons() {\n  const providerSchedule = document.querySelector(\"#providerSchedule\");\n  providerSchedule.addEventListener(\n    \"click\",\n    function (e) {\n      if (e.target.matches('a[title=\"Prescriptions\"]')) {\n        var element = e.target;\n        while (element.className != \"apptLink\") {\n          element = element.previousElementSibling;\n        }\n\n        var apptTitle = element.attributes.title.textContent;\n        var pharmacyCode = getPharmacyCodeFromReasonOrNotes(apptTitle);\n\n        localStorage.setItem(\"currentPharmacyCode\", pharmacyCode);\n      }\n    },\n    false\n  );\n}\n\nfunction sendPatientPrescriptionNotification() {\n  const clinicName = localStorage[\"clinicname\"];\n  const url = `http://${clinicName}.cortico.ca/notify-prescription/`;\n\n  var formData = new FormData();\n  formData.append(\"demographic_no\", getDemographicFromLocation());\n  formData.append(\"pharmacy\", localStorage.getItem(\"preferredPharmacy\"));\n\n  const data = new URLSearchParams(formData);\n\n  return fetch(url, {\n    method: \"POST\",\n    body: data,\n    headers: {\n      Accept:\n        \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  });\n}\n\nfunction setupFaxButton() {\n  const prescriptionFrame = document.getElementById(\"AutoNumber1\");\n  prescriptionFrame.addEventListener(\n    \"click\",\n    async function (e) {\n      if (e.target.matches(\"#faxBUtton, #faxAndPasteButton\")) {\n        const result = await sendPatientPrescriptionNotification();\n        const text = await result.text();\n        const json = JSON.parse(text);\n      }\n    },\n    false\n  );\n}\n\nfunction getPharmacyDetails(pharmacyCode) {\n  const clinicName = localStorage[\"clinicname\"];\n  const url = `https://${clinicName}.cortico.ca/api/pharmacies/?code=${pharmacyCode}`;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}\n\nasync function setupPreferredPharmacy(code, demographic_no) {\n  var pharmacyCode = localStorage.getItem(\"currentPharmacyCode\");\n\n  if (code) {\n    pharmacyCode = code;\n  }\n  console.log(pharmacyCode);\n  const corticoPharmacy = await getPharmacyDetails(pharmacyCode);\n  const corticoPharmacyText = JSON.parse(await corticoPharmacy.text());\n  var faxNumber = corticoPharmacyText[0][\"fax_number\"] || null;\n  var searchTerm = corticoPharmacyText[0][\"name\"] || null;\n\n  // only use the first word on the pharmacy name to search for list\n  searchTerm = searchTerm ? searchTerm.split(\" \")[0] : null;\n\n  // cleanup fax number to format starting with 1\n  // This might be an issue if the oscar pharmacies don't match this format\n  if (faxNumber) faxNumber = `1${faxNumber.match(/\\d+/g).join(\"\")}`;\n\n  var demographicNo = demographic_no;\n  if (!demographic_no) {\n    demographicNo = getDemographicFromLocation();\n  }\n\n  const currPharmacyResults = await getCurrentPharmacy(demographicNo);\n  const currPharmacyText = JSON.parse(await currPharmacyResults.text());\n  var preferredPharmacy;\n  console.log(\"currpharmacy\", currPharmacyText);\n  if (currPharmacyText) {\n    preferredPharmacy = currPharmacyText[0];\n    localStorage.setItem(\"preferredPharmacy\", preferredPharmacy);\n  }\n\n  const currentlyUsingPharmacy =\n    preferredPharmacy &&\n    preferredPharmacy.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\n    (preferredPharmacy.fax === faxNumber ||\n      faxNumber.includes(preferredPharmacy.fax));\n  console.log(\n    `currently using pharmacy ${searchTerm.toLowerCase()}, ${currentlyUsingPharmacy}`\n  );\n\n  storePharmaciesCache(demographicNo);\n\n  if (searchTerm && !currentlyUsingPharmacy) {\n    const results = await getPharmacyResults(searchTerm);\n    const text = await results.text();\n    const json = JSON.parse(text);\n    const pharmacyUpdated = json.length > 0;\n\n    const isRxPage =\n      window.location.href.indexOf(\"oscarRx/choosePatient.do\") > -1;\n\n    if (pharmacyUpdated) {\n      let pharmacy = json.length === 1 ? json[0] : null;\n      if (json.length > 1) {\n        pharmacy = json.find((item) => {\n          return (\n            item.name.includes(searchTerm) &&\n            // either if the fax is the same or the formatted fax has the values\n            (item.fax === faxNumber || faxNumber.includes(item.fax))\n          );\n        });\n      }\n\n      console.log(\"Pharmacy\", pharmacy);\n      if (pharmacy) {\n        const setPharmacyResults = await setPreferredPharmacy(\n          pharmacy,\n          demographicNo\n        );\n        const setPharmacyText = await setPharmacyResults.text();\n\n        if (isRxPage) alert(\"Updating preferred pharmacy, press Ok to reload\");\n        else console.log(\"Updating preferred pharmacy\");\n      }\n    } else {\n      const msg = `Customer pharmacy ${searchTerm} does not exist in your Oscar pharmacy database!`;\n      storePharmaciesFailureCache(demographicNo, msg);\n      if (isRxPage) alert(msg);\n      else console.log(msg);\n    }\n  }\n}\n\nfunction storePharmaciesCache(demographicNo) {\n  console.log(\"storing demographic in cache\", demographicNo);\n  var _cache = localStorage.getItem(\"pharmaciesCache\");\n  var cache = JSON.parse(_cache);\n  var date = dayjs().format(\"YYYY-MM-DD\");\n  var demographics;\n\n  if (cache && cache[\"date\"] !== date) {\n    // erase the cache when new day\n    localStorage[\"pharmaciesCache\"] = null;\n    cache = null;\n  }\n  if (cache && cache[\"demographics\"]) {\n    demographics = JSON.parse(cache[\"demographics\"]);\n  } else {\n    demographics = new Array();\n  }\n  console.log(Array.isArray(demographics));\n  // make sure demographics is array before pushing\n  if (Array.isArray(demographics)) {\n    demographics.push(demographicNo);\n  }\n\n  cache = {\n    date: date,\n    demographics: demographics,\n  };\n  localStorage.setItem(\"pharmaciesCache\", JSON.stringify(cache));\n}\n\nfunction storePharmaciesFailureCache(demographicNo, message) {\n  var _cache = localStorage.getItem(\"pharmaciesCacheFailure\");\n  var cache = JSON.parse(_cache);\n\n  var date = dayjs().format(\"YYYY-MM-DD\");\n  var failures = new Array();\n\n  if (cache && cache[\"date\"] === date) {\n    localStorage[\"pharmaciesCacheFailure\"] = null;\n    cache = null;\n  }\n  if (cache && cache[\"failures\"]) {\n    failures = cache[\"failures\"];\n  }\n\n  var data = {\n    demographicNo: demographicNo,\n    message: message,\n  };\n  failures.push(data);\n\n  cache = {\n    date: date,\n    failures: failures,\n  };\n  localStorage.setItem(\"pharmaciesCacheFailure\", JSON.stringify(cache));\n}\n\nasync function getDiagnosticFromCortico(appt_no, notes) {\n  const clinicName = localStorage[\"clinicname\"];\n  const url = `https://${clinicName}.cortico.ca/api/encrypted/diagnostic-results/?appointment_id=${appt_no}&notes=${notes}`;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}\n\nfunction getDemographicFromLocation() {\n  const routeParams = new URLSearchParams(window.location.search);\n\n  return routeParams.get(\"demographicNo\");\n}\n\nasync function setupPreferredPharmacies() {\n  console.log(\"setting up batch pharmacies\");\n  window.setupPreferredPharmaciesRunning = true;\n\n  clearFailureCache();\n  const appointments = document.querySelectorAll(\".apptLink\");\n  var error = false;\n  try {\n    for (let i = 0; i < appointments.length; i++) {\n      const element = appointments[i];\n\n      if (!element || !element.attributes) {\n        continue;\n      }\n      console.log(\"here\");\n\n      const apptUrl = extractApptUrl(element.attributes.onclick.textContent);\n      const demographicNo = getDemographicNo(apptUrl);\n      const _pharmaciesCache = localStorage.getItem(\"pharmaciesCache\");\n      const pharmaciesCache = JSON.parse(_pharmaciesCache);\n      var demographics = new Array();\n\n      if (pharmaciesCache && pharmaciesCache[\"demographics\"]) {\n        let cachedDemographics = pharmaciesCache[\"demographics\"];\n\n        demographics = Array.isArray(cachedDemographics)\n          ? cachedDemographics\n          : JSON.parse(cachedDemographics);\n      }\n\n      if (\n        demographics &&\n        Array.isArray(demographics) &&\n        demographics.includes(demographicNo)\n      ) {\n        continue;\n      }\n\n      const apptTitle = element.attributes.title.textContent;\n      const pharmacyCode = getPharmacyCodeFromReasonOrNotes(apptTitle);\n      if (!pharmacyCode) {\n        continue;\n      }\n\n      var temp = {};\n      temp.total = appointments.length;\n      temp.current = i;\n      pubsub.publish(\"check-batch-pharmacies\", temp);\n\n      await setupPreferredPharmacy(pharmacyCode, demographicNo);\n\n      await new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve();\n        }, 2000);\n      });\n    }\n  } catch (err) {\n    alert(err);\n  } finally {\n    window.setupPreferredPharmaciesRunning = false;\n    pubsub.publish(\"check-batch-pharmacies\", {\n      complete: true,\n      total: length,\n      error,\n    });\n  }\n}\n\nasync function init_diagnostic_viewer_button() {\n  const notesField = document.querySelector(\"textarea[name='notes']\");\n  var notesValue = notesField.textContent;\n  console.log(\"echo\", notesValue);\n\n  var last_button = document.querySelector(\n    \"#cortico-video-appt-btn\"\n  ).parentNode;\n  last_button.parentNode.innerHTML +=\n    \"<button class='cortico-btn' id='diagnostic-viewer-btn' style='color:white; background-color:blue'>Diagnostic Viewer</button>\";\n\n  const corticoDiagnosticViewBtn = document.getElementById(\n    \"diagnostic-viewer-btn\"\n  );\n  function update_diagnostic_button_visibility() {\n    notesValue = notesField.textContent;\n    console.log(\"notes value\", notesValue.toLowerCase());\n\n    corticoDiagnosticViewBtn.style.visibility = notesValue.includes(\n      \"-- Cortico data below, do not change!\"\n    )\n      ? \"visible\"\n      : \"hidden\";\n  }\n\n  async function open_diagnostic_viewer(e) {\n    e.preventDefault();\n\n    const appt_no = getQueryStringValue(\"appointment_no\");\n    const diagnostic_response = await getDiagnosticFromCortico(\n      appt_no,\n      notesValue\n    );\n    const diagnostic_text = String(await diagnostic_response.text());\n    await showDiagnosticResults(diagnostic_text);\n  }\n\n  update_diagnostic_button_visibility();\n\n  corticoDiagnosticViewBtn.addEventListener(\"click\", open_diagnostic_viewer);\n}\n\nasync function init_recall_button() {\n  const statusOption = document.querySelector(\"select[name='status']\");\n  var statusValue = statusOption.options[statusOption.selectedIndex].text;\n  console.log(\"echo\", statusValue);\n\n  var last_button = document.querySelector(\n    \"#cortico-video-appt-btn\"\n  ).parentNode;\n  last_button.parentNode.innerHTML +=\n    \"<button class='cortico-btn' type='button' id='recall-btn' style='color:white; background-color:blue'>Recall email</button>\";\n\n  const corticoRecallButton = document.getElementById(\"recall-btn\");\n\n  function update_recall_button_visibility() {\n    statusValue = statusOption.options[statusOption.selectedIndex].text;\n    console.log(\"statusValue\", statusValue.toLowerCase());\n\n    var recallStatus = localStorage[\"recall-status\"]\n      ? localStorage[\"recall-status\"]\n      : \"todo\";\n    corticoRecallButton.style.visibility =\n      statusValue.toLowerCase() === recallStatus.toLowerCase()\n        ? \"visible\"\n        : \"hidden\";\n  }\n\n  async function send_patient_recall_email(e) {\n    e.preventDefault();\n\n    var patientEmail = await getPatientEmail();\n    const formData = new FormData(\n      document.querySelector(\"form[name=EDITAPPT]\")\n    );\n    const apptTime = formData.get(\"start_time\");\n    const apptDate = formData.get(\"appointment_date\");\n    const apptPatient = formData.get(\"keyword\");\n\n    if (!patientEmail) {\n      alert(\"Patient has no email\");\n      return;\n    }\n    if (!apptTime || !apptDate) {\n      alert(\"Please provide date/time\");\n      return;\n    }\n\n    var apptSchedule = apptDate + \"T\" + apptTime;\n    var cleanedSchedule = dayjs(apptSchedule).format(\"h:mmA on MMMM D\");\n    var cleanedPatient = apptPatient ? apptPatient : \"Patient\";\n    var clinicName = localStorage[\"clinicname\"];\n\n    window.open(\n      `mailto:${patientEmail}?subject=Your doctor wants to speak with you&` +\n        `body=Dear ${cleanedPatient},%0d%0aYour doctor needs to follow up with you regarding some documents or results.%0d%0a` +\n        `We have tentatively booked you an appointment at ${cleanedSchedule}.%0d%0a%0d%0aPlease confirm with the following link:` +\n        `https://${clinicName}.cortico.ca/get-patient-appointment-lookup-url/%0d%0a%0d%0a` +\n        `Sincerely,%0d%0a${clinicName.toUpperCase()} STAFF`\n    );\n  }\n\n  update_recall_button_visibility();\n\n  statusOption.addEventListener(\"change\", update_recall_button_visibility);\n  corticoRecallButton.addEventListener(\"click\", send_patient_recall_email);\n}\n\nasync function getPatientEmail() {\n  const result = await getDemographicPageResponse();\n  const text = await result.text();\n\n  var re = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\n  var emails = text.match(re);\n\n  if (!emails) return null;\n  // Should return 2 from view and edit, get atleast one\n  return emails[0];\n}\n\nfunction getDemographicPageResponse() {\n  const origin = getOrigin();\n  const provider = getProvider();\n  const demographicNo = getDemographicNo(window.location.href);\n  const url = `${origin}/${provider}/demographic/demographiccontrol.jsp?demographic_no=${demographicNo}&displaymode=edit&dboperation=search_detail`;\n\n  return fetch(url);\n}\n","import { Ellipsis } from \"../Icons/Ellipsis\";\nimport { getAppointments } from \"./Appointments\";\nimport \"./AppointmentMenu.css\";\nimport { Modal } from \"../Modal/Modal\";\nimport { getOrigin, getProvider } from \"../../modules/Utils/Utils\";\nimport { Masterfile } from \"../Masterfile/Masterfile\";\nconst modal = new Modal();\n\nexport function addAppointmentMenu() {\n  const appointments = getAppointments();\n  appointments.map((appt) => {\n    appt.appendChild(appointmentMenu(appt));\n  });\n}\n\nexport function appointmentMenu(apptTd) {\n  const container = document.createElement(\"div\");\n  container.classList.add(\"appointment-menu-container\");\n\n  const menuIcon = Ellipsis();\n  container.appendChild(menuIcon);\n\n  const menu = document.createElement(\"div\");\n  container.appendChild(menu);\n  menu.classList.add(\"appointment-menu\");\n\n  menuIcon.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    menu.classList.toggle(\"show\");\n  });\n\n  menuIcon.addEventListener(\n    \"click\",\n    async (e) => {\n      await renderPatientInfo(apptTd);\n    },\n    {\n      once: true,\n    }\n  );\n\n  const menuItems = appointmentMenuItems();\n  menu.appendChild(menuItems);\n\n  return container;\n}\n\nexport function appointmentMenuItems() {\n  const items = [\n    {\n      title: \"Portal Page\",\n      href: \"#\",\n    },\n    {\n      title: \"Go To Appointment (Cortico)\",\n      href: \"#\",\n    },\n  ];\n\n  const list = document.createElement(\"ul\");\n  items.map((item) => {\n    const listItem = document.createElement(\"li\");\n    const anchor = document.createElement(\"a\");\n    listItem.appendChild(anchor);\n    anchor.textContent = item.title;\n\n    if (item.href) {\n      anchor.setAttribute(\"href\", item.href);\n    }\n\n    if (item.onClick) {\n      anchor.addEventListener(\"click\", (e) => {\n        item.onClick(e);\n      });\n    }\n\n    list.appendChild(listItem);\n  });\n\n  const listItem = document.createElement(\"li\");\n  listItem.classList.add(\"contactInfo\");\n  list.appendChild(listItem);\n\n  return list;\n}\n\nexport function getPatientContactInfo(e) {\n  console.log(\"Hello World\", e.target.closest(\"td.appt\"));\n}\n\nasync function renderPatientInfo(apptTd) {\n  console.log(\"Appt TD\", apptTd);\n  if (!apptTd) {\n    return;\n  }\n\n  const masterFile = new Masterfile(apptTd);\n  const page = await masterFile.fetchPage();\n  console.log(\"Page\", page);\n}\n","export function getAppointments(demographic_no = null) {\n  var appointments = [];\n\n  const apptNodes = document.querySelectorAll(\"td.appt\");\n\n  apptNodes.forEach(function (node) {\n    var apptLink = getAppointmentLink(node);\n    var apptUrl = extractApptUrl(apptLink.attributes.onclick.textContent);\n\n    if (demographic_no) {\n      var _demographic_no = getDemographicNo(apptUrl);\n      if (demographic_no === _demographic_no) {\n        appointments.push(node);\n      }\n    } else {\n      appointments.push(node);\n    }\n  });\n  return appointments;\n}\n\nexport function getAppointmentLink(apptTdElement) {\n  var apptLink = apptTdElement.querySelector(\"a.apptLink\");\n\n  if (apptLink) {\n    return apptLink;\n  }\n\n  // If doctor isn't set, the anchor element has no class called apptLink, so we traverse through all anchor elements\n  if (!apptLink) {\n    var anchors = apptTdElement.querySelectorAll(\"a\");\n    anchors.forEach((anchor) => {\n      var temp = anchor.attributes.onclick.nodeValue;\n      if (\n        temp.includes(\"popupPage\") &&\n        temp.includes(\"appointmentcontrol.jsp\")\n      ) {\n        if (!apptLink) {\n          apptLink = anchor;\n        }\n      }\n    });\n  }\n\n  return apptLink;\n}\n\nexport function extractApptUrl(s) {\n  return s.match(/'([^']+)'/)[1].substring(2);\n}\n\nexport function getDemographicNo(apptUrl) {\n  var searchParams = new URLSearchParams(apptUrl);\n  return searchParams.get(\"demographic_no\");\n}\n","import \"./Ellipsis.css\";\n\nexport const Ellipsis = () => {\n  const numDots = 3;\n  const container = document.createElement(\"div\");\n  container.classList.add(\"ellip-dot-container\");\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.classList.add(\"ellip-dot-wrapper\");\n\n  for (let i = 0; i < numDots; i++) {\n    const dot = document.createElement(\"div\");\n    dot.classList.add(\"ellip-dot\");\n    container.appendChild(dot);\n  }\n\n  wrapper.appendChild(container);\n  return wrapper;\n};\n","import { getOrigin, getProvider } from \"../../modules/Utils/Utils\";\n\n/**\n * Tries to represent the masterfile in oscar.\n */\nexport class Masterfile {\n  apptTD = null;\n  url = null;\n  page = null;\n\n  constructor(apptTd) {\n    this.apptTD = apptTd;\n    this.url = this.getMasterFileUrl(apptTd);\n  }\n\n  /**\n   * Returns master file URL for the given appointment\n   * @params {HTMLTableDataCellElement} the appointment TD element.\n   * @return {null} the url or null if the algorithm fails.\n   */\n  getMasterFileUrl(apptTd) {\n    if (!apptTd) {\n      return null;\n    }\n\n    const masterAnchor = apptTd.querySelector(\".masterBtn\");\n\n    if (!masterAnchor) {\n      return null;\n    }\n\n    let clickContent = masterAnchor.attributes.onclick.textContent;\n    if (!clickContent) {\n      return null;\n    }\n\n    clickContent = clickContent.split(\",\");\n    let url = clickContent[2];\n\n    if (!url) {\n      return null;\n    }\n\n    url = url.substring(3).replace(/'/g, \"\");\n    return url;\n  }\n\n  async fetchPage() {\n    if (!this.url) {\n      return;\n    }\n\n    try {\n      const url = getOrigin() + \"/\" + getProvider() + this.url;\n      const result = await fetch(url);\n      const page = await result.text();\n      this.page = page;\n      return this.page;\n    } catch (e) {\n      console.error(e);\n      return false;\n    }\n  }\n\n  getEmail() {\n    if (!this.page) {\n      throw new Error(\"Masterfile Page does not exist\");\n    }\n  }\n}\n","import \"./Modal.css\";\n\nexport class Modal {\n  modalContainer = null;\n  modal = null;\n\n  constructor() {\n    const modalContainer = document.querySelector(\".cortico-modal-container\");\n    const modal = document.querySelector(\".cortico-modal\");\n\n    if (modalContainer && modal) {\n      this.modalContainer = modalContainer;\n      this.modal = modal;\n      return;\n    }\n\n    this.modalContainer = document.createElement(\"div\");\n    this.modalContainer.classList.add(\"cortico-modal-container\");\n    this.modal = document.createElement(\"div\");\n    this.modal.classList.add(\"cortico-modal\");\n\n    this.modalContainer.appendChild(this.modal);\n    document.body.prepend(this.modalContainer);\n\n    this.modalContainer.addEventListener(\"click\", (e) => {\n      if (e.target.isEqualNode(this.modalContainer)) {\n        this.hide();\n      }\n    });\n  }\n\n  setContent(html) {\n    this.modal.innerHTML = html;\n  }\n\n  hide() {\n    this.modalContainer && this.modalContainer.classList.remove(\"show\");\n  }\n\n  show() {\n    this.modalContainer && this.modalContainer.classList.add(\"show\");\n  }\n}\n","import { debounce } from \"../Utils/Utils\";\n\nexport class Oscar {\n  hostname = null;\n  constructor(hostname = window.location.hostname) {\n    this.hostname = hostname;\n  }\n\n  isJuno() {\n    const isJunoHost = this.hostname.indexOf(\".junoemr.com\") !== -1;\n    const containsJunoLink =\n      document.querySelectorAll(\"a#helpLink\").length > 0 &&\n      document\n        .querySelectorAll(\"a#helpLink\")[0]\n        .outerHTML.indexOf(\"help.junoemr.com\") !== -1;\n\n    return isJunoHost || containsJunoLink;\n  }\n\n  // disable sticky headers on WELL Oscar (KAI or Oscar Go), because they have\n  // implemented their own sticky headers\n  isOscarGoHost() {\n    return this.hostname.indexOf(\".oscargo.com\") !== -1;\n  }\n\n  isKaiOscarHost() {\n    return this.hostname.indexOf(\".kai-oscar.com\") !== -1;\n  }\n\n  // some clinics use a local network IP address to access oscar inside the clinic\n  // in these cases, we can't rely on the hostname but have to look for specific elements instead\n  // this may be less reliable, so we still prefer the hostname check\n  containsKaiBar() {\n    return document.querySelectorAll(\"div.KaiBar\").length !== 0;\n  }\n\n  containsOscarGoOceanScript() {\n    return (\n      document.querySelectorAll(\n        'script[src=\"/oscar/js/custom/ocean/global.js\"]'\n      ).length !== 0\n    );\n  }\n\n  // sticky headers for doctor schedule page\n  updateDoctorHeadings = debounce(function (e) {\n    const _this = this;\n    const ifv = document.querySelectorAll(\n      \"tbody>tr:first-child>td.infirmaryView\"\n    );\n    if (window.scrollY > 50) {\n      ifv.forEach(function (view) {\n        view.style.position = \"sticky\";\n        view.style.marginLeft = \"unset\";\n\n        if (_this.isJuno()) {\n          // for juno, position the sticky doctor headers under the sticky top menu\n          view.style.top = \"18px\";\n        }\n      });\n    } else {\n      ifv.forEach(function (view) {\n        view.style.position = \"static\";\n      });\n    }\n  }, 50);\n}\n","// PubSub\n\nexport const pubSubInit = () => {\n  var pubsub = {};\n\n  (function (myObject) {\n    // Storage for topics that can be broadcast\n    // or listened to\n    var topics = {};\n\n    // A topic identifier\n    var subUid = -1;\n\n    // Publish or broadcast events of interest\n    // with a specific topic name and arguments\n    // such as the data to pass along\n    myObject.publish = function (topic, args) {\n      if (!topics[topic]) {\n        return false;\n      }\n\n      var subscribers = topics[topic],\n        len = subscribers ? subscribers.length : 0;\n\n      while (len--) {\n        subscribers[len].func(topic, args);\n      }\n\n      return this;\n    };\n\n    // Subscribe to events of interest\n    // with a specific topic name and a\n    // callback function, to be executed\n    // when the topic/event is observed\n    myObject.subscribe = function (topic, func) {\n      if (!topics[topic]) {\n        topics[topic] = [];\n      }\n\n      var token = (++subUid).toString();\n      topics[topic].push({\n        token: token,\n        func: func,\n      });\n      return token;\n    };\n\n    // Unsubscribe from a specific\n    // topic, based on a tokenized reference\n    // to the subscription\n    myObject.unsubscribe = function (token) {\n      for (var m in topics) {\n        if (topics[m]) {\n          for (var i = 0, j = topics[m].length; i < j; i++) {\n            if (topics[m][i].token === token) {\n              topics[m].splice(i, 1);\n              return token;\n            }\n          }\n        }\n      }\n      return this;\n    };\n  })(pubsub);\n\n  return pubsub;\n};\n","export function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nexport function waitForElm(selector) {\n  return new Promise((resolve) => {\n    if (document.querySelector(selector)) {\n      return resolve(document.querySelector(selector));\n    }\n\n    const observer = new MutationObserver((mutations) => {\n      if (document.querySelector(selector)) {\n        resolve(document.querySelector(selector));\n        observer.disconnect();\n      }\n    });\n\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true,\n    });\n  });\n}\n\nexport function getOrigin() {\n  return window.location.origin;\n}\n\nexport function getProvider() {\n  return window.location.pathname.split(\"/\")[1];\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".appointment-menu {\\n  background-color: white;\\n  padding: 10px;\\n  color: black;\\n  position: absolute;\\n  top: 10px;\\n  padding: 1em;\\n  -webkit-border-radius: 0.1rem;\\n     -moz-border-radius: 0.1rem;\\n          border-radius: 0.1rem;\\n  display: none;\\n}\\n\\n.appointment-menu.show {\\n  display: block;\\n}\\n\\n.appointment-menu-container {\\n  position: relative;\\n  display: inline-block;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./modules/Appointments/AppointmentMenu.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,uBAAuB;EACvB,aAAa;EACb,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,YAAY;EACZ,6BAAqB;KAArB,0BAAqB;UAArB,qBAAqB;EACrB,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,qBAAqB;AACvB\",\"sourcesContent\":[\".appointment-menu {\\n  background-color: white;\\n  padding: 10px;\\n  color: black;\\n  position: absolute;\\n  top: 10px;\\n  padding: 1em;\\n  border-radius: 0.1rem;\\n  display: none;\\n}\\n\\n.appointment-menu.show {\\n  display: block;\\n}\\n\\n.appointment-menu-container {\\n  position: relative;\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ellip-dot-wrapper {\\n  display: inline-block;\\n  cursor: pointer;\\n}\\n\\n.ellip-dot-container {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: flex;\\n}\\n\\n.ellip-dot {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: flex;\\n  width: 5px;\\n  height: 5px;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  -webkit-border-radius: 50%;\\n     -moz-border-radius: 50%;\\n          border-radius: 50%;\\n  margin: 0 1px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./modules/Icons/Ellipsis.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,oBAAa;EAAb,qBAAa;EAAb,iBAAa;EAAb,aAAa;AACf;;AAEA;EACE,oBAAa;EAAb,qBAAa;EAAb,iBAAa;EAAb,aAAa;EACb,UAAU;EACV,WAAW;EACX,oCAAoC;EACpC,0BAAkB;KAAlB,uBAAkB;UAAlB,kBAAkB;EAClB,aAAa;AACf\",\"sourcesContent\":[\".ellip-dot-wrapper {\\n  display: inline-block;\\n  cursor: pointer;\\n}\\n\\n.ellip-dot-container {\\n  display: flex;\\n}\\n\\n.ellip-dot {\\n  display: flex;\\n  width: 5px;\\n  height: 5px;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  border-radius: 50%;\\n  margin: 0 1px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cortico-modal-container {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  display: none;\\n  -webkit-box-pack: center;\\n  -webkit-justify-content: center;\\n     -moz-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n     -moz-box-align: center;\\n          align-items: center;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  padding: 10px;\\n  z-index: 100;\\n  opacity: 0;\\n  -webkit-transition: opacity 1s;\\n  -o-transition: opacity 1s;\\n  -moz-transition: opacity 1s;\\n  transition: opacity 1s;\\n}\\n\\n.cortico-modal-container.show {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: flex;\\n  opacity: 1;\\n}\\n\\n.cortico-modal {\\n  background-color: white;\\n  padding: 10px;\\n  -webkit-border-radius: 0.5rem;\\n     -moz-border-radius: 0.5rem;\\n          border-radius: 0.5rem;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./modules/Modal/Modal.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,aAAa;EACb,wBAAuB;EAAvB,+BAAuB;KAAvB,qBAAuB;UAAvB,uBAAuB;EACvB,yBAAmB;EAAnB,2BAAmB;KAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,oCAAoC;EACpC,aAAa;EACb,YAAY;EACZ,UAAU;EACV,8BAAsB;EAAtB,yBAAsB;EAAtB,2BAAsB;EAAtB,sBAAsB;AACxB;;AAEA;EACE,oBAAa;EAAb,qBAAa;EAAb,iBAAa;EAAb,aAAa;EACb,UAAU;AACZ;;AAEA;EACE,uBAAuB;EACvB,aAAa;EACb,6BAAqB;KAArB,0BAAqB;UAArB,qBAAqB;AACvB\",\"sourcesContent\":[\".cortico-modal-container {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  display: none;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  padding: 10px;\\n  z-index: 100;\\n  opacity: 0;\\n  transition: opacity 1s;\\n}\\n\\n.cortico-modal-container.show {\\n  display: flex;\\n  opacity: 1;\\n}\\n\\n.cortico-modal {\\n  background-color: white;\\n  padding: 10px;\\n  border-radius: 0.5rem;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return $;var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=O.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:r};return n.replace(y,(function(t,e){return e||l[t]||r.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","if (typeof Element !== \"undefined\") {\n    if (!Element.prototype.matches) {\n        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    if (!Element.prototype.closest) {\n        Element.prototype.closest = function (s) {\n            var el = this;\n\n            do {\n                if (el.matches(s)) return el;\n                el = el.parentElement || el.parentNode;\n            } while (el !== null && el.nodeType === 1);\n            \n            return null;\n        };\n    }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import getTarget from \"!../../node_modules/style-loader/dist/runtime/getTarget.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./AppointmentMenu.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = function(css, style){\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n      while (style.firstChild) {\n        style.removeChild(style.firstChild);\n      }\n\n      style.appendChild(document.createTextNode(css));\n    }\n  };\noptions.setAttributes = function(style) {\n        var nonce =\n          typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n      };\noptions.insert = function(style){\n    var target = getTarget(\"head\");\n\n    if (!target) {\n      throw new Error(\n        \"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\"\n      );\n    }\n\n    target.appendChild(style);\n  };\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./AppointmentMenu.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import getTarget from \"!../../node_modules/style-loader/dist/runtime/getTarget.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Ellipsis.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = function(css, style){\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n      while (style.firstChild) {\n        style.removeChild(style.firstChild);\n      }\n\n      style.appendChild(document.createTextNode(css));\n    }\n  };\noptions.setAttributes = function(style) {\n        var nonce =\n          typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n      };\noptions.insert = function(style){\n    var target = getTarget(\"head\");\n\n    if (!target) {\n      throw new Error(\n        \"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\"\n      );\n    }\n\n    target.appendChild(style);\n  };\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Ellipsis.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import getTarget from \"!../../node_modules/style-loader/dist/runtime/getTarget.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Modal.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = function(css, style){\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n      while (style.firstChild) {\n        style.removeChild(style.firstChild);\n      }\n\n      style.appendChild(document.createTextNode(css));\n    }\n  };\noptions.setAttributes = function(style) {\n        var nonce =\n          typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n      };\noptions.insert = function(style){\n    var target = getTarget(\"head\");\n\n    if (!target) {\n      throw new Error(\n        \"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\"\n      );\n    }\n\n    target.appendChild(style);\n  };\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./Modal.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n\nmodule.exports = getTarget;","\"use strict\";\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var style = document.createElement(\"style\");\n  options.setAttributes(style, options.attributes);\n  options.insert(style);\n  return style;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute(\"media\", media);\n  } else {\n    style.removeAttribute(\"media\");\n  }\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, style);\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var style = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(style, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(style);\n    }\n  };\n}\n\nmodule.exports = domAPI;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./cortico.js\");\n"],"sourceRoot":""}